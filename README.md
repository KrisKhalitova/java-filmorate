# java-filmorate

Данный проект представляет собой бэкенд для сервиса, основная цель которого - поиск лучшего
фильма по оценкам пользователя.

Благодаря нижеуказанным эндпоинтам можно выполнить ряд операций:
1. Фильмы
- POST/films - создать новый фильм
- PUT/films - редактировать ранее добавленный фильм
- GET/films - получить список всех фильмов
- GET /films/{id} - получить информацию о фильме по его id
- GET /films/popular?count={count} — возвращает список из лучших фильмов по 
количеству лайков(необходимо задать количество выводимых фильмов count. 
- По умолчанию count = 10)
- PUT /films/{id}/like/{userId} — поставить лайк фильму
- DELETE /films/{id}/like/{userId} — удалить лайк у фильма
2) Пользователи 
- POST /users - создать нового пользователя
- PUT /users - редактировать ранее созданного пользователя 
- GET /users - получить списка всех пользователей 
- GET /users/{id} - получить данные о пользователе по id 
- PUT /users/{id}/friends/{friendId} — добавить в друзья 
- DELETE /users/{id}/friends/{friendId} — удалить из друзей 
- GET /users/{id}/friends — вернуть список друзей 
- GET /users/{id}/friends/common/{otherId} — вернуть список друзей, 
общих с другим пользователем

При добавлении фильмов должны быть выполнены следующие условия:
- название не может быть пустым; 
- максимальная длина описания — 200 символов; 
- дата релиза — не раньше 28 декабря 1895 года; 
- продолжительность фильма должна быть положительной.

При добавлении пользователей должны быть выполнены следующие условия:
- электронная почта не может быть пустой и должна содержать символ @; 
- логин не может быть пустым и содержать пробелы; 
- имя для отображения может быть пустым — в таком случае будет использован логин; 
- дата рождения не может быть в будущем.

Ниже приведена схема проекта и связи между таблицами. 
![schema.png](..%2F..%2FDownloads%2Fschema.png)
https://dbdiagram.io/d/64638443dca9fb07c42e1f4c

Описание:
1) films содержит основные данные о фильмах:
- id — идентификатор фильма(первичный ключ);
- name - название фильма;
- description - описание фильма;
- release_date - дата выхода фильма;
- duration - длительность фильма;
- rating_id - идентификатор рейтинга (ссылается на таблицу rating_mpa).
2) rating_mpa cодержит информацию о рейтинге кино:
- rating_id — идентификатор рейтинга(первичный ключ);
- name - название рейтинга.
3) genres cодержит информацию о жанрах кино:
- genres_id — идентификатор жанра(первичный ключ);
- name — название жанра.
4) film_genre содержит информацию о том какие фильмы к каким жанрам относятся.
-внешний ключ film_id (ссылается на таблицу films) — идентификатор фильма;
-внешний ключ genre_id (ссылается на таблицу gеnres) — идентификатор жанра.
5) users содержит данные о пользователях:
- id - идентификатор пользователя(первичный ключ);
- name - имя пользователя;
- email - электронная почта;
- login - логин пользователя;
- birthday - день рождения.
6) friendship cодержит информацию о дружбе между пользователями
- внешний ключ user_id (ссылается на таблицу users) — идентификатор пользователя;
- внешний ключ friend_id (ссылается на таблицу users) — идентификатор друга.
7) likes cодержит информацию об отметках "мне нравится".
- внешний ключ film_id (ссылается на таблицу films) — идентификатор фильма;
- внешний ключ user_id (ссылается на таблицу users) — идентификатор пользователя.